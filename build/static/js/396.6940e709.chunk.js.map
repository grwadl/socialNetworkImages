{"version":3,"file":"static/js/396.6940e709.chunk.js","mappings":"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","sources":["assets/like1.svg","webpack://frontend/./src/components/MyPhotoItem/MyPhotoItem.module.scss?2946","components/MyPhotoItem/MyPhotoItem.jsx","webpack://frontend/./src/components/MyPostList/MyPostList.module.scss?3311","components/MyPostList/MyPostList.jsx","hooks/useLikes.js","utils/getDate.js"],"sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLike1(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2 20H4C4.55 20 5 19.55 5 19V10C5 9.45 4.55 9 4 9H2V20ZM21.83 12.88C21.94 12.63 22 12.36 22 12.08V11C22 9.9 21.1 9 20 9H14.5L15.42 4.35C15.47 4.13 15.44 3.89 15.34 3.69C15.11 3.24 14.82 2.83 14.46 2.47L14 2L7.59 8.41C7.21 8.79 7 9.3 7 9.83V17.67C7 18.95 8.05 20 9.34 20H17.45C18.15 20 18.81 19.63 19.17 19.03L21.83 12.88V12.88Z\",\n    fill: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLike1);\nexport default __webpack_public_path__ + \"static/media/like1.6697aba5a2d40d63fd02a7da7469ad13.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MyPhotoItem_item__KDXSa\",\"photo\":\"MyPhotoItem_photo__Et6hc\",\"info\":\"MyPhotoItem_info__jdGnz\",\"avatar\":\"MyPhotoItem_avatar__a-9+A\",\"author\":\"MyPhotoItem_author__PVJE5\",\"name\":\"MyPhotoItem_name__HOFxW\",\"icons\":\"MyPhotoItem_icons__zzDEB\",\"deletebtn\":\"MyPhotoItem_deletebtn__ykI1J\",\"likebtn\":\"MyPhotoItem_likebtn__HQGtv\",\"commIcon\":\"MyPhotoItem_commIcon__25LBl\",\"likesText\":\"MyPhotoItem_likesText__4MWmq\",\"commText\":\"MyPhotoItem_commText__6GXT+\",\"time\":\"MyPhotoItem_time__30NQe\",\"hidden\":\"MyPhotoItem_hidden__oO7H2\"};","import React from 'react';\r\nimport like from '../../assets/like.svg';\r\nimport like1 from '../../assets/like1.svg';\r\nimport cl from './MyPhotoItem.module.scss';\r\nimport deletebtn from '../../assets/delete.svg';\r\nimport { CHANGE_POST} from '../../redux/constants/constants';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setLike } from '../../hooks/useLikes';\r\nimport { store } from '../../redux/store/store';\r\nimport user from '../../assets/userwebp.webp';\r\nimport useToken from '../../hooks/useToken.js';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport comms from '../../assets/comments.png';\r\nimport time from '../../assets/time.svg';\r\nimport { MyApi } from '../../API/API';\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\r\nimport 'react-lazy-load-image-component/src/effects/blur.css';\r\nconst MyPhotoItem = ({ title, photo, author, id,avatar, commsCount,getDate,creationTime,hidden}) => {\r\n    const dispatch = useDispatch();\r\n    const token = useSelector(state => state.AuthReducer.token);\r\n    const index = store.getState().MyPostsReducer.posts.findIndex(x => x.id === id);\r\n    const likes = useSelector(state => state.MyPostsReducer.posts[index].likesCount);\r\n    const isliked = useSelector(state => state.MyPostsReducer.posts[index].isLikedByUser);\r\n    const navigate = useNavigate();\r\n    const navigatePost = () => {\r\n        dispatch({type:CHANGE_POST, payload:id})\r\n        navigate(\"../feed/\" + id, { replace: true });\r\n    }\r\n    const posts = useSelector(state => state.MyPostsReducer.posts);\r\n    let date = getDate(creationTime);\r\n    useToken();\r\n    return (\r\n        <div className={hidden?cl.hidden:cl.item} onClick={e=>navigatePost()}>\r\n            <div className={cl.photo}><LazyLoadImage effect=\"blur\" height='160px' width='100%' src={photo} alt=\"\" /></div>\r\n            <div className={cl.info}>\r\n            <img className={cl.avatar}src={avatar===''?user:avatar} alt=\"\" />\r\n                <div className={cl.author}>{author}</div>\r\n                <div className={cl.name}>{title}</div>\r\n            </div>\r\n            <div className={cl.icons}>\r\n                <div className={cl.likebtn}><img onClick={e => { dispatch(setLike(id, token, index, 'my')); e.stopPropagation() }} src={isliked ? like1 : like} alt=\"\" /><span className={cl.likesText}>{likes}</span></div>\r\n                <div className={cl.commIcon}><img src={comms} alt=\"\" /><span className={cl.commText}> {commsCount}</span></div>\r\n                <div className={cl.deletebtn}><img src={deletebtn} alt=\"delete\" onClick={e => { e.stopPropagation(); dispatch(MyApi.deletePost(id,posts)) }} /></div>\r\n            </div>\r\n            <div className={cl.time}><img src={time} alt=\"\" />{String(date.date).split('.')[0]} {date.name}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyPhotoItem;","// extracted by mini-css-extract-plugin\nexport default {\"postWrapper\":\"MyPostList_postWrapper__lQNnH\"};","import React from 'react';\r\nimport MyPhotoItem from '../MyPhotoItem/MyPhotoItem';\r\nimport emptyposts from '../../assets/emptyposts.png';\r\nimport {getTime} from '../../utils/getDate';\r\nimport cl from './MyPostList.module.scss';\r\nconst MyPostList = ({posts}) => {\r\n    return (\r\n        <div className={cl.postWrapper}>\r\n                {posts.length > 0 ? posts.map(post => <MyPhotoItem creationTime={post.creationTime} getDate={getTime} commsCount={post.commentsCount} key={post.photo} id={post.id} likes={post.likesCount} isliked={post.isLikedByUser} title={post.title} photo={post.photo} author={post.creatorName} avatar={post.creatorAvatar}></MyPhotoItem>) : <div className='empty' style={{ marginTop: -100 }}>\r\n                    <div className='empty__img'><img src={emptyposts} alt=\"\" />\r\n                    </div>\r\n                    <div className='empty__title'>Seems like aren't any posts here</div>\r\n                </div>}\r\n            </div>\r\n    );\r\n};\r\n\r\nexport default MyPostList;","import axios from \"axios\";\r\nimport { LIKE_POSTS, LIKE_PROFILE, LOGOUT } from \"../redux/constants/constants\";\r\nimport { store } from \"../redux/store/store\";\r\n\r\nexport const setLike = (id, token, index, type) => {\r\n    return dispatch => {\r\n        let posts; let postOther;\r\n        if (type === 'my') {\r\n            posts = store.getState().MyPostsReducer.posts\r\n        } else if (type === 'profileItem') {\r\n            posts = store.getState().PostsInProfileReducer.posts;\r\n        } else {\r\n            posts = store.getState().AllPostsReducer.posts\r\n        }\r\n        const likedPost = posts.find(item => item.id === id);\r\n        if (likedPost.isLikedByUser) {\r\n            likedPost.isLikedByUser = !likedPost.isLikedByUser;\r\n            likedPost.likesCount -= 1;\r\n            posts[index] = likedPost;\r\n            dispatch({ type: LIKE_POSTS, payload: posts });\r\n\r\n        }\r\n        else {\r\n            likedPost.isLikedByUser = !likedPost.isLikedByUser;\r\n            likedPost.likesCount += 1;\r\n            posts[index] = likedPost;\r\n            dispatch({ type: LIKE_POSTS, payload: posts });\r\n\r\n        }\r\n        axios.put('https://photoa.azurewebsites.net/api/post/like/' + id, {}, {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        }).catch(e => {\r\n            if (e.response.status == 401) {\r\n                dispatch({ type: LOGOUT });\r\n            }\r\n        });\r\n    }\r\n}","export const getTime = (date) => {\r\n    const zone = new Date().getTimezoneOffset();\r\n    const dateCreation = new Date().getTime() + (zone * 60000) - new Date(date).getTime();\r\n    const minutes = dateCreation / 60000;\r\n    const hours = minutes / 60;\r\n    const days = hours / 24;\r\n    const month = days / 30;\r\n    if (minutes < 1) {\r\n        return { date: 1, name: 'minutes' }\r\n    }\r\n    const dateArray = [{ date: minutes, name: 'minutes' }, { date: hours, name: 'hours' }, { date: days, name: 'days' }, { date: month, name: 'month' }]\r\n    const newDateArray = dateArray.filter(e => e.date > 1).reverse();\r\n    return newDateArray[0];\r\n}"],"names":["title","photo","author","id","avatar","commsCount","getDate","creationTime","hidden","dispatch","useDispatch","token","useSelector","state","AuthReducer","index","store","MyPostsReducer","posts","findIndex","x","likes","likesCount","isliked","isLikedByUser","navigate","useNavigate","date","useToken","className","cl","onClick","e","type","CHANGE_POST","payload","replace","LazyLoadImage","effect","height","width","src","alt","user","setLike","stopPropagation","like1","like","comms","deletebtn","MyApi","time","String","split","name","length","map","post","getTime","commentsCount","creatorName","creatorAvatar","style","marginTop","emptyposts","likedPost","PostsInProfileReducer","AllPostsReducer","find","item","LIKE_POSTS","axios","headers","Authorization","catch","response","status","LOGOUT","zone","Date","getTimezoneOffset","minutes","hours","days","filter","reverse"],"sourceRoot":""}